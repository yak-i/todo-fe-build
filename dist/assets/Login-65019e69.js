import{u as m,d as p,r as h,f as x,l as g,j as e,L as w,B as j}from"./index-602bdd3d.js";import{u as b,M as f,T as u}from"./TimePickerInput-fd659bd2.js";import{u as C,T as c,B as d}from"./_Uint8Array-2b7b1f45.js";const S=()=>{const i=m(),t=p(),o=C(async s=>{const a=await x(s);if(a.headers){const n=a.headers.getAuthorization();g.setItem("authToken",n)}return a.data},{onSuccess:async s=>{await t.resetQueries("whoIam"),i.setUser(s)}});return[h.useCallback((s,a)=>o.mutateAsync({email:s,password:a}),[o]),o.isLoading]},y=()=>{},k=()=>{const[i,t]=S(),{values:o,setAllFieldsTouchedAndShowError:r,isValid:s,handleSubmit:a,getTouchedValueSetter:n}=b({initialValues:{email:"",password:""},onSubmit:async l=>{s?await i(l.email,l.password):r()}});return e.jsxs(f,{open:!0,closable:!1,onClose:y,children:[e.jsxs(c,{children:["Don't have an account?"," ",e.jsx(w,{to:"/registration",children:e.jsx(c,{as:"span",color:"blue",children:"Registration"})})]}),e.jsx(d,{mt:4,children:e.jsxs("form",{onSubmit:a,children:[e.jsx(u,{id:"email",name:"email",label:"Email: ",value:o.email,onChange:n("email"),autoComplete:"username",isRequired:!0}),e.jsx(u,{id:"password",name:"password",type:"password",label:"Password: ",value:o.password,onChange:n("password"),autoComplete:"current-password",isRequired:!0}),e.jsx(d,{mt:2,children:e.jsx(j,{type:"submit",colorScheme:"blue",variant:"outline",isLoading:t,disabled:t,children:"Login"})})]})})]})};export{k as default};
