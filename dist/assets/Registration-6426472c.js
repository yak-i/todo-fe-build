import{u as d,d as h,r as p,e as x,l as g,j as e,L as w,B as j}from"./index-602bdd3d.js";import{u as b,M as C,T as l}from"./TimePickerInput-fd659bd2.js";import{u as f,T as m,B as c}from"./_Uint8Array-2b7b1f45.js";const S=()=>{const n=d(),r=h(),s=f(async a=>{const t=await x(a);if(t.headers){const o=t.headers.getAuthorization();g.setItem("authToken",o)}return t.data},{onSuccess:async a=>{await r.resetQueries("whoIam"),n.setUser(a)}});return[p.useCallback((a,t,o)=>s.mutateAsync({email:a,password:t,name:o}),[s]),s.isLoading]},y=()=>{},L=()=>{const[n,r]=S(),{values:s,setAllFieldsTouchedAndShowError:u,isValid:a,handleSubmit:t,getTouchedValueSetter:o}=b({initialValues:{email:"",password:"",name:""},onSubmit:async i=>{a?await n(i.email,i.password,i.name):u()}});return e.jsxs(C,{open:!0,closable:!1,onClose:y,children:[e.jsxs(m,{children:["Do have an account?"," ",e.jsx(w,{to:"/login",children:e.jsx(m,{as:"span",color:"blue",children:"Login"})})]}),e.jsx(c,{mt:4,children:e.jsxs("form",{onSubmit:t,children:[e.jsx(l,{id:"name",name:"name",label:"Name: ",value:s.name,onChange:o("name"),isRequired:!0}),e.jsx(l,{id:"email",name:"email",label:"Email: ",value:s.email,onChange:o("email"),autoComplete:"username",isRequired:!0}),e.jsx(l,{id:"password",name:"password",type:"password",label:"Password: ",value:s.password,onChange:o("password"),autoComplete:"current-password",isRequired:!0}),e.jsx(c,{mt:2,children:e.jsx(j,{type:"submit",colorScheme:"blue",variant:"outline",isLoading:r,disabled:r,children:"Register"})})]})})]})};export{L as default};
